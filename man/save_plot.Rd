% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/save.R
\name{save_plot}
\alias{save_plot}
\title{Save a ggplot}
\usage{
save_plot(
  ...,
  plot = get_last_plot(),
  width = NULL,
  height = NULL,
  units = c("in", "cm", "mm", "px"),
  dpi = 300
)
}
\arguments{
\item{...}{
  Arguments passed on to \code{\link[ggplot2:ggsave]{ggplot2::ggsave}}
  \describe{
    \item{\code{filename}}{File name to create on disk.}
    \item{\code{device}}{Device to use. Can either be a device function
(e.g. \link{png}), or one of "eps", "ps", "tex" (pictex),
"pdf", "jpeg", "tiff", "png", "bmp", "svg" or "wmf" (windows only). If
\code{NULL} (default), the device is guessed based on the \code{filename} extension.}
    \item{\code{path}}{Path of the directory to save plot to: \code{path} and \code{filename}
are combined to create the fully qualified file name. Defaults to the
working directory.}
    \item{\code{scale}}{Multiplicative scaling factor.}
    \item{\code{width,height}}{Plot size in units expressed by the \code{units} argument.
If not supplied, uses the size of the current graphics device.}
    \item{\code{limitsize}}{When \code{TRUE} (the default), \code{ggsave()} will not
save images larger than 50x50 inches, to prevent the common error of
specifying dimensions in pixels.}
    \item{\code{bg}}{Background colour. If \code{NULL}, uses the \code{plot.background} fill value
from the plot theme.}
    \item{\code{create.dir}}{Whether to create new directories if a non-existing
directory is specified in the \code{filename} or \code{path} (\code{TRUE}) or return an
error (\code{FALSE}, default). If \code{FALSE} and run in an interactive session,
a prompt will appear asking to create a new directory when necessary.}
  }}

\item{plot}{Plot to save, defaults to last plot displayed.}

\item{width, height}{Plot size in units expressed by the \code{units} argument.
If \code{NULL} (default), the plot size will be measured. When the plot
does not have a fixed size, these become \code{NA}, meaning that the size of
the current graphics device is used.}

\item{units}{One of the following units in which the \code{width} and \code{height}
arguments are expressed: \code{"in"}, \code{"cm"}, \code{"mm"} or \code{"px"}.}

\item{dpi}{Plot resolution. Also accepts a string input: "retina" (320),
"print" (300), or "screen" (72). Only applies when converting pixel units,
as is typical for raster output types.}
}
\value{
The file name with \code{width} and \code{height} attributes in inches,
invisibly.
}
\description{
This is a wrapper for \link[ggplot2:ggsave]{ggsave()} that attempts to make a
reasonable guess at the plot size, particularly if they have been set in
the \code{theme(panel.widths, panel.heights)} settings or when the
\code{force_panelsizes()} function has been used.
}
\examples{
# A plot with fixed dimensions
p <- ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  theme(
    panel.widths = unit(10, "cm"),
    panel.heights = unit(2, "cm")
  )

# Save plot to a temporary file
tmp <- tempfile(fileext = ".png")
save_plot(tmp, plot = p)

# Clean up temporary file
unlink(tmp)
}
