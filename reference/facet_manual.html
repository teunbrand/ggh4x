<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="In facet_manual() the layout for panels is determined by a custom design.
Inspired by base-R graphics layout() function, this
variant of facets offers more freedom in how panels are displayed, but
comes with less guarantees that it looks right."><title>Manual layout for panels — facet_manual • ggh4x</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manual layout for panels — facet_manual"><meta property="og:description" content="In facet_manual() the layout for panels is determined by a custom design.
Inspired by base-R graphics layout() function, this
variant of facets offers more freedom in how panels are displayed, but
comes with less guarantees that it looks right."><meta property="og:image" content="https://teunbrand.github.io/ggh4x/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggh4x</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/ggh4x.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Facets.html">Facets</a>
    <a class="dropdown-item" href="../articles/Miscellaneous.html">Miscellaneous</a>
    <a class="dropdown-item" href="../articles/PositionGuides.html">Position Guides</a>
    <a class="dropdown-item" href="../articles/Statistics.html">Statistics</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/teunbrand/ggh4x/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Manual layout for panels</h1>
      <small class="dont-index">Source: <a href="https://github.com/teunbrand/ggh4x/blob/HEAD/R/facet_manual.R" class="external-link"><code>R/facet_manual.R</code></a></small>
      <div class="d-none name"><code>facet_manual.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>In <code>facet_manual()</code> the layout for panels is determined by a custom design.
Inspired by base-R graphics <code><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">layout()</a></code> function, this
variant of facets offers more freedom in how panels are displayed, but
comes with less guarantees that it looks right.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">facet_manual</span><span class="op">(</span></span>
<span>  <span class="va">facets</span>,</span>
<span>  design <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  widths <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  heights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  respect <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  drop <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  strip.position <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>  scales <span class="op">=</span> <span class="st">"fixed"</span>,</span>
<span>  axes <span class="op">=</span> <span class="st">"margins"</span>,</span>
<span>  remove_labels <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  labeller <span class="op">=</span> <span class="st">"label_value"</span>,</span>
<span>  trim_blank <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  strip <span class="op">=</span> <span class="fu"><a href="strip_vanilla.html">strip_vanilla</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>facets</dt>
<dd><p>A set of variables or expressions quoted by <code><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code>
and defining faceting groups on the rows or columns dimension.
The variables can be named (the names are passed to <code>labeller</code>).</p>
<p>For compatibility with the classic interface, can also be a
formula or character vector. Use either a one sided formula, <code>~a + b</code>,
or a character vector, <code>c("a", "b")</code>.</p></dd>


<dt>design</dt>
<dd><p>Specification of panel areas in the layout. Can either be
specified as a <code>character(1)</code> string or as a <code>matrix</code>. See examples.</p></dd>


<dt>widths, heights</dt>
<dd><p>A <code>numeric</code> or <code>unit</code> vector setting the sizes of
panels. A <code>numeric</code> vector is converted to relative <code>"null"</code> units.
Alternatively, when <code>NULL</code> (default), the sizes are set per instructions of
coord or theme aspect ratio. Note that these widths and heights apply to
the cells where panels can be drawn. In between such cells, room will be
made to fit plot decoration such as paddings, axes and strips.</p></dd>


<dt>respect</dt>
<dd><p>A <code>logical(1)</code>. If <code>TRUE</code>, widths and heights specified in
<code>"null"</code> units are proportional. If <code>FALSE</code>, <code>"null"</code> units in the x- and
y-directions can vary independently. Alternatively, when <code>NULL</code>, the
<code>respect</code> parameter takes instructions from the coord or theme.</p></dd>


<dt>drop</dt>
<dd><p>If <code>TRUE</code>, the default, all factor levels not used in the
data will automatically be dropped. If <code>FALSE</code>, all factor levels
will be shown, regardless of whether or not they appear in the data.</p></dd>


<dt>strip.position</dt>
<dd><p>By default, the labels are displayed on the top of
the plot. Using <code>strip.position</code> it is possible to place the labels on
either of the four sides by setting <code>strip.position = c("top",
  "bottom", "left", "right")</code></p></dd>


<dt>scales</dt>
<dd><p>A <code>character(1)</code> or <code>logical(1)</code> whether scales are shared
across facets or allowed to vary. One of the following:</p><dl><dt><code>"fixed"</code> or <code>FALSE</code></dt>
<dd><p>Scales are shared across all facets
(default).</p></dd>

<dt><code>"free_x"</code></dt>
<dd><p>x-scales are allowed to vary.</p></dd>

<dt><code>"free_y"</code></dt>
<dd><p>y-scales are allowed to vary.</p></dd>

<dt><code>"free"</code> or <code>TRUE</code></dt>
<dd><p>Both scales can vary</p></dd>


</dl></dd>


<dt>axes</dt>
<dd><p>A <code>character(1)</code> or <code>logical(1)</code> where axes should be drawn. One
of the following:</p><dl><dt><code>"margins"</code> or <code>FALSE</code></dt>
<dd><p>Only draw axes at the outer margins
(default).</p></dd>

<dt><code>"x"</code></dt>
<dd><p>Draw axes at the outer margins and all inner x-axes too.</p></dd>

<dt><code>"y"</code></dt>
<dd><p>Draw axes at the outer margins and all inner y-axes too.</p></dd>

<dt><code>"all"</code> or <code>TRUE</code></dt>
<dd><p>Draw the axes for every panel.</p></dd>


</dl></dd>


<dt>remove_labels</dt>
<dd><p>A <code>character(1)</code> or <code>logical(1)</code> determining whether
axis text is displayed at inner panels. One of the following:</p><dl><dt><code>"none"</code> or <code>FALSE</code></dt>
<dd><p>Display axis text at all axes (default).</p></dd>

<dt><code>"x"</code></dt>
<dd><p>Display axis text at outer margins and all inner y-axes.</p></dd>

<dt><code>"y"</code></dt>
<dd><p>Display axis text at outer margins and all inner x-axes.</p></dd>

<dt><code>"all"</code> or <code>TRUE</code></dt>
<dd><p>Only display axis text at the outer margins.</p></dd>


</dl></dd>


<dt>labeller</dt>
<dd><p>A function that takes one data frame of labels and
returns a list or data frame of character vectors. Each input
column corresponds to one factor. Thus there will be more than
one with <code>vars(cyl, am)</code>. Each output
column gets displayed as one separate line in the strip
label. This function should inherit from the "labeller" S3 class
for compatibility with <code><a href="https://ggplot2.tidyverse.org/reference/labeller.html" class="external-link">labeller()</a></code>. You can use different labeling
functions for different kind of labels, for example use <code><a href="https://ggplot2.tidyverse.org/reference/labellers.html" class="external-link">label_parsed()</a></code> for
formatting facet labels. <code><a href="https://ggplot2.tidyverse.org/reference/labellers.html" class="external-link">label_value()</a></code> is used by default,
check it for more details and pointers to other options.</p></dd>


<dt>trim_blank</dt>
<dd><p>A <code>logical(1)</code>. When <code>TRUE</code> (default), the design will
be trimmed to remove empty rows and columns.</p></dd>


<dt>strip</dt>
<dd><p>An object created by a call to a strip function, such as
<code><a href="strip_vanilla.html">strip_vanilla</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>Facet</code> ggproto object that can be added to a plot.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other facetting functions: 
<code><a href="facet_grid2.html">facet_grid2</a>()</code>,
<code><a href="facet_nested_wrap.html">facet_nested_wrap</a>()</code>,
<code><a href="facet_nested.html">facet_nested</a>()</code>,
<code><a href="facet_wrap2.html">facet_wrap2</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># A standard plot</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="va">wt</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The `design` argument can be a character string.</span></span></span>
<span class="r-in"><span><span class="co"># New rows are indicated by newline symbol (`\n`), which are added</span></span></span>
<span class="r-in"><span><span class="co"># automatically for multi-line strings.</span></span></span>
<span class="r-in"><span><span class="co"># The `#`-symbol indicates empty cells.</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st"> A##</span></span></span>
<span class="r-in"><span><span class="st"> AB#</span></span></span>
<span class="r-in"><span><span class="st"> #BC</span></span></span>
<span class="r-in"><span><span class="st"> ##C</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">+</span> <span class="fu">facet_manual</span><span class="op">(</span><span class="op">~</span> <span class="va">cyl</span>, <span class="va">design</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="facet_manual-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternatively, the `design` argument can be a matrix.</span></span></span>
<span class="r-in"><span><span class="co"># Using `NA`s will leave the cell empty.</span></span></span>
<span class="r-in"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>, <span class="fl">2</span>, <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">+</span> <span class="fu">facet_manual</span><span class="op">(</span><span class="op">~</span> <span class="va">cyl</span>, <span class="va">design</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="facet_manual-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The sizes of columns and rows can be adjusted with the `widths` and</span></span></span>
<span class="r-in"><span><span class="co"># `heights`parameters respectively.</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">+</span> <span class="fu">facet_manual</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span> <span class="va">cyl</span>, <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">design</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  widths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>, heights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>, respect <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="facet_manual-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Teun van den Brand.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

